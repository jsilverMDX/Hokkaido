#!/usr/bin/env ruby
require 'Hokkaido'
puts "Hokkaido v#{Hokkaido::VERSION} codename Northern Sea Circuit".colorize(:yellow)

program :name, "Hokkaido"
program :version, '0.0.1'
program :description, 'Gem port tool for RubyMotion'

command :port do |c|
  c.syntax = "Usage: Hokkaido port <gem_name> <init_file> <lib_dir>"
  c.description = 'Attempts to port the gem. This will modify the files!'
  c.option '--sim', TrueClass, 'Does not edit the gem files. Good for hacking Hokkaido'
  c.action do |args, options|
    if File.exists?(args[1]) && File.directory?(args[2]) && args[0].size > 1
      puts "Init Lib:".colorize(:blue)+" #{args[1]}"
      puts "Gem name:".colorize(:blue)+" #{args[0]}"
      say "Lib folder:".colorize(:blue)+" #{args[2]}"
      port = Hokkaido::Port.new(args, options)
    else
      say "I can't process that."
    end
  end
end