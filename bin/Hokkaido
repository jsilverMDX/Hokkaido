#!/usr/bin/env ruby
require 'Hokkaido'
puts "Hokkaido v#{Hokkaido::VERSION} codename Northern Sea Circuit".colorize(:yellow)

if Hokkaido.input_valid?(ARGV)
  puts "Init Lib:".colorize(:blue)+" #{ARGV[1]}"
  puts "Gem name:".colorize(:blue)+" #{ARGV[0]}"
  puts "Lib folder:".colorize(:blue)+" #{ARGV[2]}"
  port = Hokkaido::Port.new(ARGV)
  puts "Gem modification complete. It will now be tested.".colorize(:yellow)
  if port.success?
    puts "The #require removal was successful.".colorize(:green)
  else
    puts "The #require removal has failed.".colorize(:red)
  end
else
  puts "Turn ordinary gems into RubyMotion gems"
  puts "processes: require remover, eval define injecter"
  puts "usage: [bundle exec] #{"Hokkaido".colorize(:yellow)} #{"<gem_name>".colorize(:blue)} #{"<init_file>".colorize(:blue)} #{"<lib_folder>".colorize(:blue)}"
  puts "e.g.: [bundle exec] Hokkaido.rb term term/lib/term/ansicolor.rb term/lib"
end